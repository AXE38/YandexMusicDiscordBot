# Дискорд-бот для запуска песен из Яндекс музыки и видео из Youtube

Проект основан на API [отсюда](https://github.com/yt-dlp/yt-dlp) и [отсюда](https://github.com/MarshalX/yandex-music-api)

## Конфигурация
Нужно создать файл в корне config.ini, основываясь на файле config_example.ini, где
1. yandex_token - токен Яндекс музыки;
2. discord_token - токен дискорд-бота;
3. ffmpeg_path - путь до ffmpeg.exe;
4. log_path - путь до файла логов.

## Команды
* connect (join) - вход в голосовой канал;
* play (p) <ссылка на трек, плейлист, альбом (ЯМ), ссылка на видео (Youtube)> - подключиться к голосовому каналу и воспроизвести контент по ссылке
* pause - поставить воспроизведение на паузу
* resume - продолжить воспроизведение
* skip - пропустить трек
* volume - регулирование громкости со стороны бота
* stop - остановить воспроизведение и покинуть канал

## Кэширование
При воспроизведении треков из Яндекс музыки треки кэшируются в папку cache кэшируются в т.ч. метаданные, чтобы больше не обращаться к API яндекс музыки.
Наименование файлов кэша: <track_id>_<album_id>.

## Известные проблемы
1. Воспроизведение из Youtube прерывается в случайном месте, возможно, дело в отсутствии авторизации, не разбирался.
